    <transition name="fade" mode="out-in" v-cloak>
        <div v-if="currentTab === 'bika_leaderboard'" class="space-y-6 pb-20">
            <div class="flex items-start justify-between gap-3">
                <div class="min-w-0">
                    <h2 class="text-2xl md:text-3xl font-bold flex items-center gap-3">
                        <span class="material-symbols-rounded text-primary">leaderboard</span>
                        Bika 排行榜
                    </h2>
                    <p class="text-sm opacity-60 mt-1">按时间范围查看热门作品</p>
                </div>
                <div class="flex items-center gap-2">
                    <button @click="currentTab = 'bika_home'"
                        class="w-10 h-10 rounded-full bg-surface-variant text-on-surface-variant flex items-center justify-center hover:bg-primary hover:text-on-primary transition">
                        <span class="material-symbols-rounded">arrow_back</span>
                    </button>
                </div>
            </div>

            <div v-if="!isLoggedIn" class="md-card p-6 border border-outline/10">
                <div class="flex items-center gap-3 text-on-surface-variant">
                    <span class="material-symbols-rounded text-primary">info</span>
                    <span>请先在 Settings 登录 Bika。</span>
                </div>
            </div>

            <div v-else class="md-card p-6 border border-outline/10 space-y-4">
                <div class="flex flex-wrap gap-2">
                    <button @click="setBikaLeaderboardDays('H24')"
                        class="h-10 px-4 rounded-full border text-sm font-medium transition"
                        :class="bikaLeaderboardDays === 'H24' ? 'bg-primary text-on-primary border-transparent shadow-md' : 'bg-surface text-on-surface border-outline/20 hover:bg-primary/10'">
                        24H
                    </button>
                    <button @click="setBikaLeaderboardDays('D7')"
                        class="h-10 px-4 rounded-full border text-sm font-medium transition"
                        :class="bikaLeaderboardDays === 'D7' ? 'bg-primary text-on-primary border-transparent shadow-md' : 'bg-surface text-on-surface border-outline/20 hover:bg-primary/10'">
                        7D
                    </button>
                    <button @click="setBikaLeaderboardDays('D30')"
                        class="h-10 px-4 rounded-full border text-sm font-medium transition"
                        :class="bikaLeaderboardDays === 'D30' ? 'bg-primary text-on-primary border-transparent shadow-md' : 'bg-surface text-on-surface border-outline/20 hover:bg-primary/10'">
                        30D
                    </button>
                    <button @click="loadBikaLeaderboard" :disabled="bikaLeaderboardLoading"
                        class="h-10 px-4 rounded-full border text-sm font-medium transition bg-surface text-on-surface border-outline/20 hover:bg-primary/10 disabled:opacity-40 disabled:cursor-not-allowed">
                        <span class="material-symbols-rounded text-base mr-1" :class="bikaLeaderboardLoading ? 'animate-spin' : ''">refresh</span>
                        刷新
                    </button>
                </div>

                <div v-if="bikaLeaderboardLoading" class="flex items-center justify-center py-12 opacity-60">
                    <span class="material-symbols-rounded text-4xl animate-spin text-primary">progress_activity</span>
                </div>

                <div v-else-if="bikaLeaderboardItems.length === 0" class="flex flex-col items-center justify-center py-12 opacity-60">
                    <span class="material-symbols-rounded text-5xl text-outline mb-3">stacked_bar_chart</span>
                    <p class="font-medium text-on-surface-variant">暂无榜单数据</p>
                </div>

                <div v-else class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
                    <div v-for="book in bikaLeaderboardItems" :key="book.album_id"
                        class="md-card overflow-hidden cursor-pointer group flex flex-col h-full"
                        @click="viewDetails(book.album_id)">
                        <div class="aspect-[3/4] overflow-hidden relative bg-surface-variant">
                            <img v-if="book.image" :src="getImageUrl(book.image)" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" loading="lazy">
                            <div class="absolute top-2 left-2 px-2 py-0.5 rounded-full bg-black/50 text-white text-[10px] font-bold backdrop-blur border border-white/10">Bika</div>
                        </div>
                        <div class="p-3 flex flex-col flex-1">
                            <h3 class="font-medium text-sm line-clamp-2 leading-tight mb-1 group-hover:text-primary transition-colors">{{ book.title }}</h3>
                            <div class="mt-auto pt-2 flex items-center justify-between opacity-80">
                                <p class="text-xs truncate max-w-[70%]">{{ book.author || '' }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </transition>
